{"ast":null,"code":"import _objectSpread from\"C:/Users/adoud/Desktop/hotel_mern/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/adoud/Desktop/hotel_mern/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/adoud/Desktop/hotel_mern/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{CREATE,FETCH,FETCH_ALL,AVAILABLE,ROOM_DET,BOOK_DET,DELETE}from\"../constants/actionTypes\";import*as api from\"../api\";/* Actions for handling API state */export var getAllAvailable=function getAllAvailable(params){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var _yield$api$fetchAvail,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.fetchAvailableRooms(params);case 3:_yield$api$fetchAvail=_context.sent;data=_yield$api$fetchAvail.data;dispatch({type:AVAILABLE,payload:data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getAllBookings=function getAllBookings(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var _yield$api$fetchAllBo,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.fetchAllBookings();case 3:_yield$api$fetchAllBo=_context2.sent;data=_yield$api$fetchAllBo.data;dispatch({type:FETCH_ALL,payload:data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// Actions for booking details\nexport var postRoomDetails=function postRoomDetails(data){return{type:ROOM_DET,payload:data};};export var postBookingDetails=function postBookingDetails(data){return{type:BOOK_DET,payload:data};};export var postBooking=function postBooking(details){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var newBooking,_yield$api$createBook,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;newBooking=_objectSpread(_objectSpread(_objectSpread({},details.formData),details.guestDetails.booking),details.guestDetails.room);_context3.next=4;return api.createBooking(newBooking);case 4:_yield$api$createBook=_context3.sent;data=_yield$api$createBook.data;dispatch({type:CREATE,payload:data});_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var getSingleBooking=function getSingleBooking(id){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var _yield$api$fetchExist,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return api.fetchExistingBooking(id);case 3:_yield$api$fetchExist=_context4.sent;data=_yield$api$fetchExist.data;dispatch({type:FETCH,payload:data});_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var deleteBooking=function deleteBooking(id){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dispatch){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return api.deleteBooking(id);case 3:dispatch({type:DELETE,payload:id.id});_context5.next=9;break;case 6:_context5.prev=6;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);case 9:case\"end\":return _context5.stop();}}},_callee5,null,[[0,6]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"names":["CREATE","FETCH","FETCH_ALL","AVAILABLE","ROOM_DET","BOOK_DET","DELETE","api","getAllAvailable","params","dispatch","fetchAvailableRooms","data","type","payload","console","log","getAllBookings","fetchAllBookings","postRoomDetails","postBookingDetails","postBooking","details","newBooking","formData","guestDetails","booking","room","createBooking","getSingleBooking","id","fetchExistingBooking","deleteBooking"],"sources":["C:/Users/adoud/Desktop/hotel_mern/client/src/actions/booking.js"],"sourcesContent":["import {\r\n  CREATE,\r\n  FETCH,\r\n  FETCH_ALL,\r\n  AVAILABLE,\r\n  ROOM_DET,\r\n  BOOK_DET,\r\n  DELETE,\r\n} from \"../constants/actionTypes\";\r\nimport * as api from \"../api\";\r\n\r\n/* Actions for handling API state */\r\n\r\nexport const getAllAvailable = (params) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.fetchAvailableRooms(params);\r\n\r\n    dispatch({ type: AVAILABLE, payload: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getAllBookings = () => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.fetchAllBookings();\r\n    dispatch({ type: FETCH_ALL, payload: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n// Actions for booking details\r\n\r\nexport const postRoomDetails = (data) => {\r\n  return {\r\n    type: ROOM_DET,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport const postBookingDetails = (data) => {\r\n  return {\r\n    type: BOOK_DET,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport const postBooking = (details) => async (dispatch) => {\r\n  try {\r\n    const newBooking = {\r\n      ...details.formData,\r\n      ...details.guestDetails.booking,\r\n      ...details.guestDetails.room,\r\n    };\r\n\r\n    const { data } = await api.createBooking(newBooking);\r\n    dispatch({ type: CREATE, payload: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getSingleBooking = (id) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.fetchExistingBooking(id);\r\n    dispatch({ type: FETCH, payload: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const deleteBooking = (id) => async (dispatch) => {\r\n  try {\r\n    await api.deleteBooking(id);\r\n\r\n    dispatch({ type: DELETE, payload: id.id });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n"],"mappings":"yYAAA,OACEA,MAAM,CACNC,KAAK,CACLC,SAAS,CACTC,SAAS,CACTC,QAAQ,CACRC,QAAQ,CACRC,MAAM,KACD,0BAA0B,CACjC,MAAO,GAAKC,IAAG,KAAM,QAAQ,CAE7B,oCAEA,MAAO,IAAMC,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,MAAM,mGAAK,iBAAOC,QAAQ,yLAE/BH,IAAG,CAACI,mBAAmB,CAACF,MAAM,CAAC,4CAA9CG,IAAI,uBAAJA,IAAI,CAEZF,QAAQ,CAAC,CAAEG,IAAI,CAAEV,SAAS,CAAEW,OAAO,CAAEF,IAAK,CAAC,CAAC,CAAC,+EAE7CG,OAAO,CAACC,GAAG,aAAO,CAAC,oEAEtB,iEAED,MAAO,IAAMC,eAAc,CAAG,QAAjBA,eAAc,qGAAS,kBAAOP,QAAQ,+LAExBH,IAAG,CAACW,gBAAgB,EAAE,6CAArCN,IAAI,uBAAJA,IAAI,CACZF,QAAQ,CAAC,CAAEG,IAAI,CAAEX,SAAS,CAAEY,OAAO,CAAEF,IAAK,CAAC,CAAC,CAAC,mFAE7CG,OAAO,CAACC,GAAG,cAAO,CAAC,sEAEtB,mEACD;AAEA,MAAO,IAAMG,gBAAe,CAAG,QAAlBA,gBAAe,CAAIP,IAAI,CAAK,CACvC,MAAO,CACLC,IAAI,CAAET,QAAQ,CACdU,OAAO,CAAEF,IACX,CAAC,CACH,CAAC,CAED,MAAO,IAAMQ,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIR,IAAI,CAAK,CAC1C,MAAO,CACLC,IAAI,CAAER,QAAQ,CACdS,OAAO,CAAEF,IACX,CAAC,CACH,CAAC,CAED,MAAO,IAAMS,YAAW,CAAG,QAAdA,YAAW,CAAIC,OAAO,oGAAK,kBAAOZ,QAAQ,mLAE7Ca,UAAU,8CACXD,OAAO,CAACE,QAAQ,EAChBF,OAAO,CAACG,YAAY,CAACC,OAAO,EAC5BJ,OAAO,CAACG,YAAY,CAACE,IAAI,yBAGPpB,IAAG,CAACqB,aAAa,CAACL,UAAU,CAAC,6CAA5CX,IAAI,uBAAJA,IAAI,CACZF,QAAQ,CAAC,CAAEG,IAAI,CAAEb,MAAM,CAAEc,OAAO,CAAEF,IAAK,CAAC,CAAC,CAAC,mFAE1CG,OAAO,CAACC,GAAG,cAAO,CAAC,sEAEtB,mEAED,MAAO,IAAMa,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIC,EAAE,oGAAK,kBAAOpB,QAAQ,+LAE5BH,IAAG,CAACwB,oBAAoB,CAACD,EAAE,CAAC,6CAA3ClB,IAAI,uBAAJA,IAAI,CACZF,QAAQ,CAAC,CAAEG,IAAI,CAAEZ,KAAK,CAAEa,OAAO,CAAEF,IAAK,CAAC,CAAC,CAAC,mFAEzCG,OAAO,CAACC,GAAG,cAAO,CAAC,sEAEtB,mEAED,MAAO,IAAMgB,cAAa,CAAG,QAAhBA,cAAa,CAAIF,EAAE,oGAAK,kBAAOpB,QAAQ,gKAE1CH,IAAG,CAACyB,aAAa,CAACF,EAAE,CAAC,QAE3BpB,QAAQ,CAAC,CAAEG,IAAI,CAAEP,MAAM,CAAEQ,OAAO,CAAEgB,EAAE,CAACA,EAAG,CAAC,CAAC,CAAC,kFAE3Cf,OAAO,CAACC,GAAG,cAAO,CAAC,qEAEtB"},"metadata":{},"sourceType":"module"}