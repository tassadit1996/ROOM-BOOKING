{"ast":null,"code":"import _slicedToArray from\"C:/Users/adoud/Desktop/hotel_mern/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{useHistory}from\"react-router\";import{deleteBooking}from\"../../actions/booking\";import\"../../styles/Existing.scss\";// make the header image dynamic so that it changes based on the booking\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Existing=function Existing(){var dispatch=useDispatch();var history=useHistory();var existing=useSelector(function(state){return state.existing;});var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];// update the page if a booking gets delete\nvar handleDelete=function handleDelete(id){// handle booking deletion...\ndispatch(deleteBooking({id:id}));// rerender the page once deleted to update the booking list\n};useEffect(function(){console.log(\" i was triggered\");setTimeout(function(){setLoading(false);},10000);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"Existing\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header-main\",style:{background:\"no-repeat center/cover url(\\\"/img/booking/existing_header.jpg\\\")\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"header-content\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"alt-font\",children:\"Manage Your Reservations\"})})}),existing.length>0?existing.map(function(info){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Confirmation Number:\"}),/*#__PURE__*/_jsx(\"h1\",{children:info.confirmation}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Room:\"}),/*#__PURE__*/_jsx(\"h3\",{children:info.room})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Name:\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[info.firstName,\" \",info.lastName]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"h3\",{children:info.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Phone:\"}),/*#__PURE__*/_jsx(\"h3\",{children:info.phone})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Guests:\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[info.adults,\" Adults\",\" \",info.children>0&&\"& \".concat(info.children,\" Children\")]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Dates\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[new Date(info.startDate).toLocaleString(\"en-us\",{year:\"numeric\",month:\"2-digit\",day:\"2-digit\"}),\" \",\"-\",\" \",new Date(info.endDate).toLocaleString(\"en-us\",{year:\"numeric\",month:\"2-digit\",day:\"2-digit\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Payment Type:\"}),/*#__PURE__*/_jsx(\"h3\",{children:info.cardType})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Card Number:\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"XXXXXXXXXXXX\",info.cardNum.slice(12,16)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:function onClick(){return handleDelete(info.confirmation);},children:\"DELETE\"})})]},info.confirmation);}):loading?/*#__PURE__*/_jsxs(\"div\",{className:\"loader\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lds-roller\",children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Loading...\"})]}):/*#__PURE__*/_jsxs(\"section\",{className:\"desc\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"No Booking was Found...\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(){return history.push(\"/booking\");},children:\"Go Back\"})]})]});};export default Existing;","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","useHistory","deleteBooking","Existing","dispatch","history","existing","state","loading","setLoading","handleDelete","id","console","log","setTimeout","background","length","map","info","confirmation","room","firstName","lastName","email","phone","adults","children","Date","startDate","toLocaleString","year","month","day","endDate","cardType","cardNum","slice","push"],"sources":["C:/Users/adoud/Desktop/hotel_mern/client/src/components/booking/Existing.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport { deleteBooking } from \"../../actions/booking\";\r\nimport \"../../styles/Existing.scss\";\r\n// make the header image dynamic so that it changes based on the booking\r\nconst Existing = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  let existing = useSelector((state) => state.existing);\r\n  const [loading, setLoading] = useState(true);\r\n  // update the page if a booking gets delete\r\n  const handleDelete = (id) => {\r\n    // handle booking deletion...\r\n    dispatch(deleteBooking({ id }));\r\n    // rerender the page once deleted to update the booking list\r\n  };\r\n  useEffect(() => {\r\n    console.log(\" i was triggered\");\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 10000);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"Existing\">\r\n      <header\r\n        className=\"header-main\"\r\n        style={{\r\n          background: `no-repeat center/cover url(\"/img/booking/existing_header.jpg\")`,\r\n        }}\r\n      >\r\n        <div className=\"header-content\">\r\n          <h2 className=\"alt-font\">Manage Your Reservations</h2>\r\n        </div>\r\n      </header>\r\n      {existing.length > 0 ? (\r\n        existing.map((info) => (\r\n          <div className=\"card\" key={info.confirmation}>\r\n            <div className=\"info\">\r\n              <h1>Confirmation Number:</h1>\r\n              <h1>{info.confirmation}</h1>\r\n              <div>\r\n                <h3>Room:</h3>\r\n                <h3>{info.room}</h3>\r\n              </div>\r\n              <div>\r\n                <h3>Name:</h3>\r\n                <h3>\r\n                  {info.firstName} {info.lastName}\r\n                </h3>\r\n              </div>\r\n              <div>\r\n                <h3>Email:</h3>\r\n                <h3>{info.email}</h3>\r\n              </div>\r\n              <div>\r\n                <h3>Phone:</h3>\r\n                <h3>{info.phone}</h3>\r\n              </div>\r\n              <div>\r\n                <h3>Guests:</h3>\r\n                <h3>\r\n                  {info.adults} Adults{\" \"}\r\n                  {info.children > 0 && `& ${info.children} Children`}\r\n                </h3>\r\n              </div>\r\n              <div>\r\n                <h3>Dates</h3>\r\n                <h3>\r\n                  {new Date(info.startDate).toLocaleString(\"en-us\", {\r\n                    year: \"numeric\",\r\n                    month: \"2-digit\",\r\n                    day: \"2-digit\",\r\n                  })}{\" \"}\r\n                  -{\" \"}\r\n                  {new Date(info.endDate).toLocaleString(\"en-us\", {\r\n                    year: \"numeric\",\r\n                    month: \"2-digit\",\r\n                    day: \"2-digit\",\r\n                  })}\r\n                </h3>\r\n              </div>\r\n              <div>\r\n                <h3>Payment Type:</h3>\r\n                <h3>{info.cardType}</h3>\r\n              </div>\r\n              <div>\r\n                <h3>Card Number:</h3>\r\n                <h3>XXXXXXXXXXXX{info.cardNum.slice(12, 16)}</h3>\r\n              </div>\r\n            </div>\r\n            <div className=\"actions\">\r\n              <button\r\n                className=\"delete-btn\"\r\n                onClick={() => handleDelete(info.confirmation)}\r\n              >\r\n                DELETE\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))\r\n      ) : loading ? (\r\n        <div className=\"loader\">\r\n          <div className=\"lds-roller\">\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n          </div>\r\n          <h2>Loading...</h2>\r\n        </div>\r\n      ) : (\r\n        <section className=\"desc\">\r\n          <h1>No Booking was Found...</h1>\r\n          <button className=\"btn\" onClick={() => history.push(\"/booking\")}>\r\n            Go Back\r\n          </button>\r\n        </section>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Existing;\r\n"],"mappings":"8HAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,UAAU,KAAQ,cAAc,CACzC,OAASC,aAAa,KAAQ,uBAAuB,CACrD,MAAO,4BAA4B,CACnC;AAAA,wFACA,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,GAAMC,SAAQ,CAAGJ,WAAW,EAAE,CAC9B,GAAMK,QAAO,CAAGJ,UAAU,EAAE,CAC5B,GAAIK,SAAQ,CAAGP,WAAW,CAAC,SAACQ,KAAK,QAAKA,MAAK,CAACD,QAAQ,GAAC,CACrD,cAA8BR,QAAQ,CAAC,IAAI,CAAC,wCAArCU,OAAO,eAAEC,UAAU,eAC1B;AACA,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,EAAE,CAAK,CAC3B;AACAP,QAAQ,CAACF,aAAa,CAAC,CAAES,EAAE,CAAFA,EAAG,CAAC,CAAC,CAAC,CAC/B;AACF,CAAC,CACDd,SAAS,CAAC,UAAM,CACde,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC,CAC/BC,UAAU,CAAC,UAAM,CACfL,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAE,KAAK,CAAC,CACX,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,aAAK,SAAS,CAAC,UAAU,wBACvB,eACE,SAAS,CAAC,aAAa,CACvB,KAAK,CAAE,CACLM,UAAU,mEACZ,CAAE,uBAEF,YAAK,SAAS,CAAC,gBAAgB,uBAC7B,WAAI,SAAS,CAAC,UAAU,sCAA8B,EAClD,EACC,CACRT,QAAQ,CAACU,MAAM,CAAG,CAAC,CAClBV,QAAQ,CAACW,GAAG,CAAC,SAACC,IAAI,qBAChB,aAAK,SAAS,CAAC,MAAM,wBACnB,aAAK,SAAS,CAAC,MAAM,wBACnB,4CAA6B,cAC7B,oBAAKA,IAAI,CAACC,YAAY,EAAM,cAC5B,oCACE,6BAAc,cACd,oBAAKD,IAAI,CAACE,IAAI,EAAM,GAChB,cACN,oCACE,6BAAc,cACd,sBACGF,IAAI,CAACG,SAAS,KAAGH,IAAI,CAACI,QAAQ,GAC5B,GACD,cACN,oCACE,8BAAe,cACf,oBAAKJ,IAAI,CAACK,KAAK,EAAM,GACjB,cACN,oCACE,8BAAe,cACf,oBAAKL,IAAI,CAACM,KAAK,EAAM,GACjB,cACN,oCACE,+BAAgB,cAChB,sBACGN,IAAI,CAACO,MAAM,WAAS,GAAG,CACvBP,IAAI,CAACQ,QAAQ,CAAG,CAAC,cAASR,IAAI,CAACQ,QAAQ,aAAW,GAChD,GACD,cACN,oCACE,6BAAc,cACd,sBACG,GAAIC,KAAI,CAACT,IAAI,CAACU,SAAS,CAAC,CAACC,cAAc,CAAC,OAAO,CAAE,CAChDC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,SAAS,CAChBC,GAAG,CAAE,SACP,CAAC,CAAC,CAAE,GAAG,KACL,GAAG,CACJ,GAAIL,KAAI,CAACT,IAAI,CAACe,OAAO,CAAC,CAACJ,cAAc,CAAC,OAAO,CAAE,CAC9CC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,SAAS,CAChBC,GAAG,CAAE,SACP,CAAC,CAAC,GACC,GACD,cACN,oCACE,qCAAsB,cACtB,oBAAKd,IAAI,CAACgB,QAAQ,EAAM,GACpB,cACN,oCACE,oCAAqB,cACrB,qCAAiBhB,IAAI,CAACiB,OAAO,CAACC,KAAK,CAAC,EAAE,CAAE,EAAE,CAAC,GAAM,GAC7C,GACF,cACN,YAAK,SAAS,CAAC,SAAS,uBACtB,eACE,SAAS,CAAC,YAAY,CACtB,OAAO,CAAE,yBAAM1B,aAAY,CAACQ,IAAI,CAACC,YAAY,CAAC,EAAC,oBAGxC,EACL,GA7DmBD,IAAI,CAACC,YAAY,CA8DtC,EACP,CAAC,CACAX,OAAO,cACT,aAAK,SAAS,CAAC,QAAQ,wBACrB,aAAK,SAAS,CAAC,YAAY,wBACzB,cAAW,cACX,cAAW,cACX,cAAW,cACX,cAAW,cACX,cAAW,cACX,cAAW,cACX,cAAW,cACX,cAAW,GACP,cACN,kCAAmB,GACf,cAEN,iBAAS,SAAS,CAAC,MAAM,wBACvB,+CAAgC,cAChC,eAAQ,SAAS,CAAC,KAAK,CAAC,OAAO,CAAE,yBAAMH,QAAO,CAACgC,IAAI,CAAC,UAAU,CAAC,EAAC,qBAEvD,GAEZ,GACG,CAEV,CAAC,CAED,cAAelC,SAAQ"},"metadata":{},"sourceType":"module"}