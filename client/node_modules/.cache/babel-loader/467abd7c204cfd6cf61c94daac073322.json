{"ast":null,"code":"import _slicedToArray from\"C:/Users/adoud/Desktop/hotel_mern/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useLocation}from\"react-router-dom\";import{getRoom}from\"../../../actions/rooms\";import BookWidget from\"../../booking/BookWidget\";import{displayIcon}from\"../../helper/Icons\";import\"../../../styles/Room.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Room=function Room(props){var dispatch=useDispatch();var location=useLocation();var currId=props.match.params.id;var _useState=useState(4),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];useEffect(function(){dispatch(getRoom(currId));},[location]);// for some reason this is rendering twice....\nvar room=useSelector(function(state){return state.rooms.room;});var handleClick=function handleClick(){show===4?setShow(room.amenities.length):setShow(4);};return/*#__PURE__*/_jsxs(\"div\",{className:\"Room\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header-main\",style:{background:\"no-repeat center/cover url(\\\"/img/rooms/\".concat(room.mainImage,\"\\\")\")},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"alt-font\",children:room.title}),/*#__PURE__*/_jsx(\"p\",{children:room.titleHeader})]}),/*#__PURE__*/_jsx(BookWidget,{})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"desc\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"alt-font\",children:room.header}),/*#__PURE__*/_jsx(\"p\",{children:room.subHeader})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"roomInfo\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"infoLeft\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"VIEW\"}),/*#__PURE__*/_jsx(\"p\",{children:room.view})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"SIZE\"}),/*#__PURE__*/_jsx(\"p\",{children:room.size})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"OCCUPANCY\"}),/*#__PURE__*/_jsxs(\"p\",{children:[room.adults,\" Adults & \",room.children,\" Children\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"BEDDING\"}),/*#__PURE__*/_jsx(\"p\",{children:room.bedding})]})]}),room.amenities&&/*#__PURE__*/_jsxs(\"div\",{className:\"infoIcons\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"AMENITIES\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[room.amenities.filter(function(item,idx){return idx<show;}).map(function(item){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"\".concat(displayIcon(item),\" itemIcon\")}),/*#__PURE__*/_jsx(\"p\",{children:item})]},item);}),/*#__PURE__*/_jsx(\"li\",{onClick:handleClick,children:/*#__PURE__*/_jsx(\"i\",{className:\"\".concat(show<=4?\"fas fa-plus\":\"fas fa-minus\",\" itemIcon itemShow\"),children:show<=4&&/*#__PURE__*/_jsx(\"span\",{children:room.amenities.length-4})})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"infoRight\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"alt-font\",children:\"ROOM OVERVIEW\"}),/*#__PURE__*/_jsx(\"p\",{children:room.paragraph})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"desc_main\",children:[/*#__PURE__*/_jsxs(\"article\",{className:\"descLeft\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-light\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"alt-font\",children:\"PHUKET IS CALLING\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Welcome back to our oceanside resort, in the heart of Phuket's bustling, breathtaking city. Nestled between the dramatic peaks of Table Mountain and the roaring Atlantic Ocean, you\\u2019ll spend warm leisurely days by glistening pools or basked in relaxation at our spa, and balmy evenings sampling local flavours at our exquisite restaurants, Nobu, Vista Bar & Lounge and Isola. Let us show you another side to Phuket. Here&Now.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"descRight\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/img/rooms/\".concat(room.subImage),alt:\"sub_room\"})})]})]});};export default Room;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","useLocation","getRoom","BookWidget","displayIcon","Room","props","dispatch","location","currId","match","params","id","show","setShow","room","state","rooms","handleClick","amenities","length","background","mainImage","title","titleHeader","header","subHeader","view","size","adults","children","bedding","filter","item","idx","map","paragraph","subImage"],"sources":["C:/Users/adoud/Desktop/hotel_mern/client/src/components/pages/rooms/Room.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { getRoom } from \"../../../actions/rooms\";\r\nimport BookWidget from \"../../booking/BookWidget\";\r\nimport { displayIcon } from \"../../helper/Icons\";\r\nimport \"../../../styles/Room.scss\";\r\nconst Room = (props) => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const currId = props.match.params.id;\r\n  const [show, setShow] = useState(4);\r\n\r\n  useEffect(() => {\r\n    dispatch(getRoom(currId));\r\n  }, [location]);\r\n  // for some reason this is rendering twice....\r\n  const room = useSelector((state) => state.rooms.room);\r\n  const handleClick = () => {\r\n    show === 4 ? setShow(room.amenities.length) : setShow(4);\r\n  };\r\n  return (\r\n    <div className=\"Room\">\r\n      <header\r\n        className=\"header-main\"\r\n        style={{\r\n          background: `no-repeat center/cover url(\"/img/rooms/${room.mainImage}\")`,\r\n        }}\r\n      >\r\n        <div className=\"header-content\">\r\n          <h2 className=\"alt-font\">{room.title}</h2>\r\n          <p>{room.titleHeader}</p>\r\n        </div>\r\n\r\n        <BookWidget />\r\n      </header>\r\n      <section className=\"desc\">\r\n        <h1 className=\"alt-font\">{room.header}</h1>\r\n        <p>{room.subHeader}</p>\r\n      </section>\r\n      <section className=\"roomInfo\">\r\n        <div className=\"infoLeft\">\r\n          <div className=\"info\">\r\n            <div>\r\n              <h3>VIEW</h3>\r\n              <p>{room.view}</p>\r\n            </div>\r\n            <div>\r\n              <h3>SIZE</h3>\r\n              <p>{room.size}</p>\r\n            </div>\r\n            <div>\r\n              <h3>OCCUPANCY</h3>\r\n              <p>\r\n                {room.adults} Adults & {room.children} Children\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <h3>BEDDING</h3>\r\n              <p>{room.bedding}</p>\r\n            </div>\r\n          </div>\r\n          {room.amenities && (\r\n            <div className=\"infoIcons\">\r\n              <h3>AMENITIES</h3>\r\n              <ul>\r\n                {room.amenities\r\n                  .filter((item, idx) => idx < show)\r\n                  .map((item) => (\r\n                    <li key={item}>\r\n                      <i className={`${displayIcon(item)} itemIcon`}></i>\r\n                      <p>{item}</p>\r\n                    </li>\r\n                  ))}\r\n                <li onClick={handleClick}>\r\n                  <i\r\n                    className={`${\r\n                      show <= 4 ? \"fas fa-plus\" : \"fas fa-minus\"\r\n                    } itemIcon itemShow`}\r\n                  >\r\n                    {show <= 4 && <span>{room.amenities.length - 4}</span>}\r\n                  </i>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"infoRight\">\r\n          <h2 className=\"alt-font\">ROOM OVERVIEW</h2>\r\n          <p>{room.paragraph}</p>\r\n        </div>\r\n      </section>\r\n      <section className=\"desc_main\">\r\n        <article className=\"descLeft\">\r\n          <div className=\"bg-light\"></div>\r\n          <h1 className=\"alt-font\">PHUKET IS CALLING</h1>\r\n          <p>\r\n            Welcome back to our oceanside resort, in the heart of Phuket's\r\n            bustling, breathtaking city. Nestled between the dramatic peaks of\r\n            Table Mountain and the roaring Atlantic Ocean, youâ€™ll spend warm\r\n            leisurely days by glistening pools or basked in relaxation at our\r\n            spa, and balmy evenings sampling local flavours at our exquisite\r\n            restaurants, Nobu, Vista Bar & Lounge and Isola. Let us show you\r\n            another side to Phuket. Here&Now.\r\n          </p>\r\n        </article>\r\n        <div className=\"descRight\">\r\n          <img src={`/img/rooms/${room.subImage}`} alt=\"sub_room\" />\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Room;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}